<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no">
	
	<title>NYC Pre-K Finder - Get in Touch</title>

	<link rel="stylesheet" href="//code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.css">
	
	<style type="text/css">
		body, label, span, div{
			color: #013364 !important;
		}
		body.loading{
			background-image:url(https://maps.nyc.gov/upk/img/spin.gif);
			background-position:center;
			background-repeat:no-repeat;
		}
		.loading div, .loading span, .loading h1, .loading h2, .loading h3, .loading input, .loading select{
			visibility:hidden;
		}
		label{
			white-space: nowrap;
			padding-right: 10px;
		}
		h2, h3{
			color: #5681ac;
		}
		form {
			margin: 0 auto 100px;
			max-width: 600px;
		}
		.sect{
			border:1px solid #5681ac;
			border-radius:0.6em;
			padding:5px;
			margin:0 0 10px 0;
		}
		.ui-selectmenu-button{
			width:100% !important;
		}
		.ui-btn:after{
			background-color: rgba(1,51,100,0.5);
		}
		.ui-btn:hover:after{
			background-color: rgb(1,51,100);
		}
		.err{
			color:red !important;
			font-weight:bold !important;
		}
		#review, #result{
			position: absolute;
			margin: 12px calc(50% - 135px);
			width: 270px;
			border-radius: 0.6em;
			border: 1px solid lightgrey;
			box-shadow: 5px 10px 20px 5px rgba(1,51,100,0.9);
			background-color: white;
			padding: 5px;
			display:none;
			z-index: 100;
		}
		.ui-btn.ui-corner-all, .ui-corner-all{
			border-radius: 0.6em;
		}
		#review h3{
			text-align:center;
		}
		.name{
			font-weight:bold;
		}
		#reviewBtns{
			width:207px;
			margin:20px 29px;
		}
		#thanks{
			padding: 5px;
		}
		#req_note{
			text-align: center;
		}
		table.fields{
			width: 100%;
			border-collapse: collapse;
		}
		.fields td{
			vertical-align: top;
			width: 50%;
		}
		#house_cell{
			width: 30px;
		}
		#street_cell{
			width: 300px;
		}
		#apt_cell{
			width: 30px;
		}
		#borough_cell{
			width: 70%;
		}
		#zip_cell{
			width: 30%;
		}
		@media only screen and (max-width : 600px) {
			#street_cell{
				width: auto;
			}
		}
		@media only screen and (max-width : 360px) {
			#house_cell{
				width: 60px;
			}
			#apt_cell{
				width: 30px;
			}		
		}
	</style>
	
	<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="//code.jquery.com/mobile/1.4.3/jquery.mobile-1.4.3.min.js"></script>
	<script src="date_rules.js"></script>
	<!--[if lt IE 9]>
		<script>
			window.IE8 = true;
			
			var IE8_DEFAULT_DATES = {
				TODAY: new Date(),
				APPLY_START_DATE: "03/16/2015",
				APPLY_END_DATE: "04/25/2015",
				DEFAULT_DOB_ENTRY: "01/01/2011",
				SCHOOL_YEAR: "2015-16"
			};
			
			function unIso(dateString){
				if (typeof dateString != "string") return dateString;
				var dateParts = dateString.split("-");
				return dateParts[1] + "/" + dateParts[2] + "/" + dateParts[0];
			};
			
			function ie8Date(dateVarName){
				var invalidDateProvided = true;
				if (window[dateVarName]){
					var unIsoDate = unIso(window[dateVarName]);
					try{
						var dateTyr = new Date(unIsoDate);
						invalidDateProvided = isNaN(dateTyr.getFullYear());
					}catch(ignore){
						invalidDateProvided = true;
					}
				}
				return invalidDateProvided ? IE8_DEFAULT_DATES[dateVarName] : unIsoDate;
			};
			
			if(typeof String.prototype.trim !== 'function') {
			  String.prototype.trim = function() {
			    return this.replace(/^\s+|\s+$/g, ''); 
			  }
			}
		</script>
	<![endif]-->
	<script>
		/* Modernizr 2.8.3 (Custom Build) | MIT & BSD
		 * Build: http://modernizr.com/download/#-inputtypes-shiv-cssclasses-load
		 */
		window.Modernizr=function(a,b,c){function v(a){j.cssText=a}function w(a,b){return v(prefixes.join(a+";")+(b||""))}function x(a,b){return typeof a===b}function y(a,b){return!!~(""+a).indexOf(b)}function z(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:x(f,"function")?f.bind(d||b):f}return!1}function A(){e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),o[a[d]]=!!e;return o}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n={},o={},p={},q=[],r=q.slice,s,t={}.hasOwnProperty,u;!x(t,"undefined")&&!x(t.call,"undefined")?u=function(a,b){return t.call(a,b)}:u=function(a,b){return b in a&&x(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e});for(var B in n)u(n,B)&&(s=B.toLowerCase(),e[s]=n[B](),q.push((e[s]?"":"no-")+s));return e.input||A(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)u(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},v(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+q.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};	</script>
	<script>
		
		/* 
		 * Set all global date strings and date-like strings from date_rules.js
		 * Replace invalid date rules with defauls
		 * date_rules.js is maintained by DOE
		 */
		(function(){
			
			window.MONTHS = ["January", "February", "March", "April", "May", "June", "July",
			                 "August", "September", "October", "November", "December"];
			
			var pad = function(number){
				return number < 10 ? "0" + number : number + "";
			};
			
			var DEFAULT_DATES = {
				TODAY: new Date(),
				MIN_DOB: "2010-01-01",
				MAX_DOB: (function(){
					var today = new Date();
					return today.getUTCFullYear() + "-" +
						pad(today.getUTCMonth() + 1) + "-" +
						pad(today.getUTCDate());
				}()),
				DEFAULT_DOB_ENTRY: "2011-01-01",
				PRE_K_REQUIRED_DOB_YEAR: "2011",
				SCHOOL_YEAR: "2015-16",
				APPLY_START_DATE: "2015-03-16",
				APPLY_END_DATE: "2015-04-25"
			};
							
			var localeDate = function(dateVarName){
				var invalidDateProvided = true;
				if (window.IE8) return ie8Date(dateVarName);
				if (window[dateVarName]){
					try{
						var dateYr = new Date(window[dateVarName]);
						invalidDateProvided = isNaN(dateYr.getFullYear());
					}catch(ignore){
						invalidDateProvided = true;
					}
				}
				var utcDate = new Date(invalidDateProvided ? DEFAULT_DATES[dateVarName] : window[dateVarName]);
				return new Date(utcDate.getTime() + (utcDate.getTimezoneOffset() * 60000));
			};
		
			window.TODAY = DEFAULT_DATES.TODAY;
			window.PRE_K_REQUIRED_DOB_YEAR = window.PRE_K_REQUIRED_DOB_YEAR || DEFAULT_DATES.PRE_K_REQUIRED_DOB_YEAR;
			window.SCHOOL_YEAR = window.SCHOOL_YEAR || DEFAULT_DATES.SCHOOL_YEAR;
			window.APPLY_START_DATE = localeDate("APPLY_START_DATE");
			window.APPLY_END_DATE = localeDate("APPLY_END_DATE");
			window.MIN_DOB = localeDate("MIN_DOB");
			window.MAX_DOB = localeDate("MAX_DOB");
			window.DEFAULT_DOB_ENTRY = localeDate("DEFAULT_DOB_ENTRY");
			if (!window.IE8){
				window.MIN_DOB = window.MIN_DOB.toISOString().split("T")[0];
				window.MAX_DOB = window.MAX_DOB.toISOString().split("T")[0];
				window.DEFAULT_DOB_ENTRY = window.DEFAULT_DOB_ENTRY.toISOString().split("T")[0];
			}
		
		}());
		
		$("document").ready(function(){		
			$("#applyNow").click(valid);
			$("select").on("change",function(e){$(e.target).focus();});
			$("#school_yr").html(SCHOOL_YEAR);
			$("#birth_yr").html(PRE_K_REQUIRED_DOB_YEAR);
			if (Modernizr.inputtypes.date){
				$("#dob").attr("min", MIN_DOB)
					.attr("max", MAX_DOB);
			}
			if (TODAY > APPLY_END_DATE){
				$("#form-note").html(
					"Please note: This form is only a statement of interest and not an application. " + 
					"Please only submit the form once per household.  An enrollment specialist will contact you shortly " +
					"to discuss available options for your child. For more information, " +
					"please visit <a href='http://nyc.gov/prek'>nyc.gov/prek</a>."
				);
			}
		});

		function valid(){
			var err = [];
			$("label, span").removeClass("err");
			$.each($("input, select"), function(_, n){
				if ($(n).prop("required") || $(n).attr("required")){
					var val = $(n).val(), pattern = $(n).attr("pattern") || $(n).data("pattern"), valid = val.length;
					if (n.id == "dob"){
						var dob = window.IE8 ? new Date($("#dob").val()) : new Date(getIsoDob());
						valid = dob >= new Date(MIN_DOB) && dob <= new Date(MAX_DOB);
					}else{
						if (valid && pattern){
							var regex = new RegExp(pattern);
							valid = regex.test(val);
						}						
					}
					if (!valid){
						err.push(n);
						$("label[for='" + n.id + "']").addClass("err");												
					}
				}
			});
			if (err.length){
				$(err[0]).focus();
			}else{
				review();
			}
		};	
	
		function review(){				
			var data = formData();
			for (var d in data){
				$("#review_" + d).html(data[d].toString());
			}
			$("#review").css({visibility: "hidden", display:"block"});
			var bottom = $("form").height();
			$("#review").css({visibility: "visible", display:"none"});
			$("#review").css("top", bottom - $("#review").height() + "px");
			$("#review").fadeIn(function(){
				$("#result").css("top", $("#review").position().top + "px");
			});
		};
		
		function getDoeDob(dob){
			var dob = dob || $("#dob").val();
			if (dob.indexOf("/") > -1){
				return dob;
			}else{
				dob = dob.split("-");
				return dob[1] + "/" + dob[2] + "/" + dob[0];				
			}
		};
		
		function getIsoDob(){
			var dob = $("#dob").val();
			if (dob.indexOf("-") > -1){
				return dob;
			}else{
				dob = dob.split("/");
				if (dob[0].length == 2 && 
						dob[1].length == 2 && 
						dob[2].length == 4 &&
						(dob[0] * 1) > 0 && (dob[0] * 1) < 13 &&
						(dob[1] * 1) > 0 && (dob[1] * 1) < 32
						){
					return dob[2] + "-" + dob[0] + "-" + dob[1];				
				}
				return "invalid";				
			}
		};
		
		function formData(){
			var result = {};
			result.dob = getDoeDob();
			result.house_number = $("#house_number").val();
			result.street_name = $("#street_name").val();
			result.apt = $("#apt").val();
			result.borough = $("#borough").val();
			result.zip_code = $("#zip_code").val();
			result.parent_first_name = $("#parent_first_name").val();
			result.parent_last_name = $("#parent_last_name").val();
			result.relationship = $("#relationship").val();
			result.day_telephone = $("#day_telephone").val();
			result.evening_telephone = $("#evening_telephone").val();
			result.email = $("#email").val();
			return result;
		};
		
		window.submitting = false;
		function apply(){
			var data = {id:0, method:"apply", jsonrpc:"2.0", params:{action:"apply", formfields:formData()}};
			window.submitting = true;
			$.ajax({
				url:"./services/SchoolRpc.ashx?rpc",
				beforeSend: function(request){
					request.setRequestHeader("Content-Type", "application/json; charset-utf-8");
				},
				method:"POST",
				dataType:"json",
				data:JSON.stringify(data),
				success: function(response){
					if (!response.result || (!response.result.ApplicationSubmitFlag && !response.result.EmailSentFlag)){
						this.error();
						return;
					}
					$("form")[0].reset();					
					$("#review").fadeOut(function(){
						$("#result").fadeIn();
						window.submitting = false;						
					});
				},
				error: function(){
					alert("There was an error processing your submission data.  Please try again.");
					$("#review").fadeOut();
					window.submitting = false;
				}
			});
			return false;
		};
	</script>
</head>
<body>
	<div id="page" data-role="page">
		<div id="main" data-role="main" class="ui-content">
			<form autocomplete="on" novalidate>
				<div class="sect">
					<h2>Student Information</h2>
					<label for="dob">Date of birth:</label>
					<input id="dob" name="dob" type="date" required="true" maxlength="10" placeholder="mm/dd/yyyy">
					(<b>Note:</b> To be eligible for pre-K for the <span id="school_yr"></span> school year, your child must have been born in the year <span id="birth_yr"></span>.)
					<h3>Current address</h3>
					<table class="fields">
						<tbody>
							<tr>
								<td id="house_cell">
									<label for="house_number">House no:</label>
									<input id="house_number" name="house_number" type="text" maxlength="10" required="true" placeholder="52">
								</td>
								<td id="street_cell">
									<label for="street_name">Street name:</label>
									<input id="street_name" name="street_name" type="text" required="true" placeholder="Chambers St">
								</td>
								<td id="apt_cell">
									<label for="apt">Apt:</label>
									<input id="apt" name="apt" type="text" placeholder="1A">					
								</td>
							</tr>
						</tbody>
					</table>	
					<table class="fields">
						<tbody>
							<tr>
								<td id="borough_cell">
									<label for="borough">Borough:</label>
									<select id="borough" name="borough" required="true" data-pattern="^((?!Choose).)*$">
										<option>Choose...</option>
										<option>Bronx</option>
										<option>Brooklyn</option>
										<option>Manhattan</option>
										<option>Queens</option>
										<option>Staten Island</option>
									</select>
								</td>
								<td id="zip_cell">		
									<label for="zip_code">ZIP Code:</label>
									<input id="zip_code" name="zip_code" type="text" maxlength="5" required="true" pattern="^\d{5}$" placeholder="12345">
								</td>
							</tr>
						</tbody>
					</table>
				</div>					
				<div class="sect">
					<h2>Parent/Guardian Information</h2>
					<table class="fields">
						<tbody>
							<tr>
								<td>
									<label for="parent_first_name">First name:</label>
									<input id="parent_first_name" name="parent_first_name" type="text" required>
								</td>
								<td>
									<label for="parent_last_name">Last name:</label>
									<input id="parent_last_name" name="parent_last_name" type="text" required>
								</td>
							</tr>
						</tbody>
					</table>
					<label for="relationship">Relationship:</label>
					<select id="relationship" name="relationship" required="true" data-pattern="^((?!Choose).)*$">
						<option>Choose...</option>
						<option>Mother</option>
						<option>Father</option>
						<option>Grandparent</option>
						<option>Sister/Brother</option>
						<option>Other Relative</option>
						<option>Step Parent</option>
						<option>Foster Parent</option>
						<option>Agency</option>
						<option>Ward Of State</option>
						<option>Other Legal Guardian</option>
						<option>Non-Relative</option>
					</select>
					<h3>Contact Information</h3>
					<table class="fields">
						<tbody>
							<tr>
								<td>
									<label for="day_telephone">Day phone:</label>
									<input id="day_telephone" name="day_telephone" type="text" maxlength="10" required="true" pattern="[0-9]{10}" placeholder="2125555555">
								</td>
								<td>	
									<label for="evening_telephone">Evening phone:</label>
									<input id="evening_telephone" name="evening_telephone" maxlength="10" type="text" required="true" pattern="[0-9]{10}" placeholder="2125555555">
								</td>
							</tr>
						</tbody>
					</table>
					<label for="email">Email address:</label>
					<input id="email" name="email" type="text" required="true" pattern="[\w-]+@([\w-]+\.)+[\w-]+">
				</div>
				<div id="form-note">
					Please note:  This form is only a statement of interest and not an application.
					An Enrollment Specialist will contact you to assist you with your application shortly.
					To apply directly please visit <a href="http://nyc.gov/prek" target="_blank">nyc.gov/prek</a> 
					from March 16 to April 24, 2015.
				</div>
				<input id="applyNow" type="button" value="Submit Info">
			</form>
			<div id="review">		
				<h3>Please review your submission:</h3>
				<div>
					<span class="name">Date of birth:</span><br><span id="review_dob"></span><br>
				</div>
				<div>
					<span class="name">Current address:</span><br><span id="review_house_number"></span> <span id="review_street_name"></span> <span id="review_apt"></span><br>
					<span id="review_borough"></span>, NY <span id="review_zip_code"></span>
				</div>
				<div><span class="name">Parent/Guardian name:</span><br><span id="review_parent_first_name"></span> <span id="review_parent_last_name"></span></div>
				<div><span class="name">Relationship:</span> <span id="review_relationship"></span></div>
				<div><span class="name">Day Telephone:</span> <span id="review_day_telephone"></span></div>
				<div><span class="name">Evening Telephone:</span> <span id="review_evening_telephone"></span></div>
				<div><span class="name">Email address:</span> <span id="review_email"></span></div>
				<div id="reviewBtns">
					<input type="button" onclick="$('#review').fadeOut();" value="Cancel">
					<input type="button" onclick="apply();" value="Submit">
				</div>
			</div>
			<div id="result">
				<div id="thanks">
					Thank you for completing our Pre-K for All information form!  
					Your submission is being sent to the Pre-K for All Outreach team, 
					who will contact you soon.   You will also receive an email shortly 
					confirming your submission.
				</div>				
				<input type="button" onclick="$('#result').fadeOut();" value="OK">			
			</div>
		</div>
	</div>
	<script>
		/* google analytics */
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		ga('create', 'UA-41281554-9', 'auto');
		ga('send', 'pageview');
	</script>	
</body>
</html>